# ------------------------------------
# Development Stage - å°ˆç‚º Vite HMR è¨­è¨ˆ
# ------------------------------------
FROM node:20-alpine 

# è¨­å®šå·¥ä½œç›®éŒ„
WORKDIR /app

# 1. è¤‡è£½ package æª”æ¡ˆï¼Œä»¥ä¾¿ Docker åˆ©ç”¨å¿«å–
COPY package*.json ./

# 2. ğŸš€ å®‰è£æ‰€æœ‰ä¾è³´
RUN npm install --force

# 3. è¤‡è£½æ‰€æœ‰å°ˆæ¡ˆæª”æ¡ˆ (åŒ…å« src, vite.config, tsconfig ç­‰)
# é›–ç„¶æˆ‘å€‘ä½¿ç”¨äº† Volume æ˜ å°„ï¼Œä½†é€™å€‹æ­¥é©Ÿç¢ºä¿äº†å®¹å™¨åœ¨å•Ÿå‹• npm run dev ä¹‹å‰æœ‰å®Œæ•´çš„æª”æ¡ˆçµæ§‹ã€‚
COPY . . 

# å®¹å™¨å•Ÿå‹•å‘½ä»¤åœ¨ docker-compose.yml ä¸­å®šç¾©